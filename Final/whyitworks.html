<!-- Seth Coulter | July 22 2025 (Why It Works) -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Why It Works – MJ Prompt Optimizer</title>

  <!-- Frameworks & Styles -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    .accordion-item .gradient-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(0, 34, 100, 0.4) 0%, rgba(0, 34, 100, 0) 70%);
        opacity: 0;
        transition: opacity 0.3s ease;
        pointer-events: none;
    }
    .accordion-item:hover .gradient-overlay {
        opacity: 1;
    }
  </style>
</head>

<body class="bg-black text-white">
    
  <!-- NAV (same as other pages) -->
  <header class="bg-black/50 backdrop-blur-lg sticky top-0 z-50">
    <nav class="container mx-auto px-8 py-4 flex flex-col md:flex-row justify-center md:justify-between items-center space-y-4 md:space-y-0">
      <span class="text-lg font-bold">MJ Prompt Optimizer</span>
      <div class="flex flex-row space-x-8 text-sm font-light text-center">
        <a href="index.html#optimizer" class="hover:text-gray-300 transition-colors">Optimizer</a>
        <a href="examples.html"        class="hover:text-gray-300 transition-colors">Examples</a>
        <a href="workflow.html"        class="hover:text-gray-300 transition-colors">Workflow</a>
        <a href="whyitworks.html"      class="hover:text-gray-300 transition-colors">Why It Works</a>
        <a href="about.html"           class="hover:text-gray-300 transition-colors">About</a>
      </div>
    </nav>
  </header>

  <!-- === MAIN now single column === -->
  <main class="px-8">

    <!-- Banner -->
    <section class="banner radial-gradient-background">
      <h1 class="text-5xl md:text-7xl font-bold">Why It Works</h1>
      <p class="text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto">
        Under the hood: how structured prompts unlock crystal‑clear Midjourney results.
      </p>
    </section>
 

    <!-- Four‑pillar explainer -->
    <section class="py-16">
      <h2 class="text-4xl md:text-5xl font-bold text-center mb-12">The Science of Structured Prompts</h2>

      <div class="grid md:grid-cols-4 gap-8">
        <!-- Card 1 -->
        <div class="bg-[#111] border border-[#222] rounded-2xl p-8 text-center scroll-animate">
          <div class="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
            <span class="text-2xl font-bold">1</span>
          </div>
          <h3 class="text-xl font-bold mb-2">Token Clarity</h3>
          <p class="text-gray-300 text-sm">
            Short, labeled chunks (“Foreground: …”) give the model crisp token boundaries—reducing cross‑talk.
          </p>
        </div>

        <!-- Card 2 -->
        <div class="bg-[#111] border border-[#222] rounded-2xl p-8 text-center scroll-animate" style="transition-delay: 100ms;">
          <div class="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
            <span class="text-2xl font-bold">2</span>
          </div>
          <h3 class="text-xl font-bold mb-2">Weighted Attention</h3>
          <p class="text-gray-300 text-sm">
            Section headers act like soft‑weights, guiding the attention map toward the right region.
          </p>
        </div>

        <!-- Card 3 -->
        <div class="bg-[#111] border border-[#222] rounded-2xl p-8 text-center scroll-animate" style="transition-delay: 200ms;">
          <div class="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
            <span class="text-2xl font-bold">3</span>
          </div>
          <h3 class="text-xl font-bold mb-2">Iterative Control</h3>
          <p class="text-gray-300 text-sm">
            Because each element lives in its own slot, you can tweak one slot without wrecking the others.
          </p>
        </div>

        <!-- Card 4 -->
        <div class="bg-[#111] border border-[#222] rounded-2xl p-8 text-center scroll-animate" style="transition-delay: 300ms;">
          <div class="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
            <span class="text-2xl font-bold">4</span>
          </div>
          <h3 class="text-xl font-bold mb-2">Style Decoupling</h3>
          <p class="text-gray-300 text-sm">
            Separating <em>Style</em> from <em>Content</em> keeps look‑and‑feel consistent across variations—goodbye random lighting shifts.
          </p>
        </div>
      </div>
    </section>

    <!-- Visual comparison -->
    <section class="py-16">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Lazy vs Structured at a Glance</h2>
        <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
            <!-- Problems Card -->
            <div class="bg-[#111] border border-[#222] rounded-2xl p-8 scroll-animate">
                <h3 class="text-2xl font-bold mb-6 flex items-center"><span class="text-red-500 mr-3 text-3xl">×</span> Lazy Prompt Problems</h3>
                <ul class="space-y-4">
                    <li class="flex items-start">
                        <span class="text-red-500 mr-3 mt-1">›</span>
                        <span>Ambiguous visual hierarchy</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-500 mr-3 mt-1">›</span>
                        <span>Mixed style + content directives</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-500 mr-3 mt-1">›</span>
                        <span>Token bloat → less focus</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-500 mr-3 mt-1">›</span>
                        <span>Inconsistent outputs</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-500 mr-3 mt-1">›</span>
                        <span>Hard to iterate cleanly</span>
                    </li>
                </ul>
            </div>

            <!-- Benefits Card -->
            <div class="bg-[#111] border border-[#222] rounded-2xl p-8 scroll-animate" style="transition-delay: 150ms;">
                <h3 class="text-2xl font-bold mb-6 flex items-center"><span class="text-green-400 mr-3 text-3xl">✓</span> Structured Prompt Benefits</h3>
                <ul class="space-y-4">
                    <li class="flex items-start">
                        <span class="text-green-400 mr-3 mt-1">›</span>
                        <span>Clear composition slots</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-400 mr-3 mt-1">›</span>
                        <span>Separated aesthetic layer</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-400 mr-3 mt-1">›</span>
                        <span>Higher attention density</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-400 mr-3 mt-1">›</span>
                        <span>Predictable results</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-400 mr-3 mt-1">›</span>
                        <span>Quick micro-edits</span>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Deep‑dive accordion -->
    <section class="py-16">
      <div class="w-full max-w-6xl mx-auto">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Dig Deeper</h2>

        <div id="accordion-container" class="max-w-3xl mx-auto">

          <!-- Item A -->
          <div class="accordion-item bg-[#111] border border-[#222] rounded-lg mb-4 relative overflow-hidden">
            <div class="gradient-overlay"></div>
            <button class="accordion-header w-full flex justify-between items-center p-6 text-left relative z-10 bg-transparent">
              <h3 class="text-lg font-bold">How do section headers influence tokens?</h3>
              <span class="accordion-icon text-2xl font-thin transition-transform duration-300">+</span>
            </button>
            <div class="accordion-content overflow-hidden bg-transparent" style="max-height:0; transition:max-height .5s;">
              <p class="p-6 pt-0 text-gray-300">
                LLMs split text into tokens. A header like <code>Foreground:</code> anchors the next tokens, increasing local attention scores and reducing semantic bleed into unrelated phrases.
              </p>
              <img src="images/stacked-tokens.png" alt="Stacked token visualization" class="rounded-lg mt-4">
            </div>
          </div>

          <!-- Item B -->
          <div class="accordion-item bg-[#111] border border-[#222] rounded-lg mb-4 relative overflow-hidden">
            <div class="gradient-overlay"></div>
            <button class="accordion-header w-full flex justify-between items-center p-6 text-left relative z-10 bg-transparent">
              <h3 class="text-lg font-bold">Why does separation improve attention maps?</h3>
              <span class="accordion-icon text-2xl font-thin transition-transform duration-300">+</span>
            </button>
            <div class="accordion-content overflow-hidden bg-transparent" style="max-height:0; transition:max-height .5s;">
              <p class="p-6 pt-0 text-gray-300">
                By clustering related tokens, the model’s self‑attention can form tight, high‑weight blocks—translating into sharper spatial coherence in the final image.
              </p>
              <img src="images/attn-map.png" alt="Attention heat map" class="rounded-lg mt-4">
            </div>
          </div>

          <!-- Item C -->
          <div class="accordion-item bg-[#111] border border-[#222] rounded-lg mb-4 relative overflow-hidden">
            <div class="gradient-overlay"></div>
            <button class="accordion-header w-full flex justify-between items-center p-6 text-left relative z-10 bg-transparent">
              <h3 class="text-lg font-bold">What about Midjourney’s new Repaint?</h3>
              <span class="accordion-icon text-2xl font-thin transition-transform duration-300">+</span>
            </button>
            <div class="accordion-content overflow-hidden bg-transparent" style="max-height:0; transition:max-height .5s;">
              <p class="p-6 pt-0 text-gray-300">
                Because Repaint masks a region, a mini prompt that mirrors the parent’s style header preserves overall cohesion while fixing micro‑details—no jarring art‑style jumps.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- =====  FOOTER  ===== -->
  <footer class="container mx-auto px-8 py-12 text-center text-gray-500 text-sm">
    <p>Built for better prompts. © 2024</p>
  </footer>

  <!-- =====  SCRIPTS  ===== -->
  <script>
    // Scroll‑in reveal
    document.querySelectorAll('.scroll-animate').forEach(el=>{
      el.classList.add('opacity-0','translate-y-4');
    });
    const observer = new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.remove('opacity-0','translate-y-4');
          observer.unobserve(e.target);
        }
      });
    },{threshold:0.2});
    document.querySelectorAll('.scroll-animate').forEach(el=>observer.observe(el));

    // Accordion
    document.querySelectorAll('.accordion-header').forEach(header=>{
      header.addEventListener('click', ()=>{
        const item  = header.closest('.accordion-item');
        const body  = header.nextElementSibling;
        const icon  = header.querySelector('.accordion-icon');
        const open  = item.classList.toggle('active');
        body.style.maxHeight = open ? body.scrollHeight + 'px' : '0';
        icon.style.transform = open ? 'rotate(45deg)' : 'rotate(0deg)';
      });
    });

    // Accordion hover effect
    document.querySelectorAll('.accordion-item').forEach(item => {
        const overlay = item.querySelector('.gradient-overlay');
        item.addEventListener('mousemove', e => {
            const rect = item.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            overlay.style.setProperty('--mouse-x', `${x}px`);
            overlay.style.setProperty('--mouse-y', `${y}px`);
        });
    });
  </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const currentPath = window.location.pathname.split('/').pop();
            const navLinks = document.querySelectorAll('nav a');

            navLinks.forEach(link => {
                const linkPath = link.getAttribute('href').split('/').pop().split('#')[0]; // Get filename without hash
                
                // Special handling for index.html as its href is index.html#optimizer
                if (currentPath === '' && linkPath === 'index.html') {
                    link.classList.add('font-semibold', 'text-blue-400');
                    link.classList.remove('hover:text-gray-300');
                } else if (currentPath === linkPath) {
                    link.classList.add('font-semibold', 'text-blue-400');
                    link.classList.remove('hover:text-gray-300');
                } else {
                    link.classList.remove('font-semibold', 'text-blue-400');
                    link.classList.add('hover:text-gray-300');
                }
            });
        });
    </script>
</body>
</html>
